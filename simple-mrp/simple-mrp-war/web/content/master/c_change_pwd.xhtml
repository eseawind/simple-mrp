<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="../../templates/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html">
    <ui:define name="programname">Change Password</ui:define>
    <ui:define name="content">
        <h:form>
                <a4j:keepAlive beanName="changepwdBean"/>
                <rich:panel id="editPanel">
                    <a4j:commandButton value="Save" actionListener="#{changepwdBean.doSave}"
                                        reRender="editPanel,createPanel"/>
                    <rich:spacer width="4px"/>
                    <a4j:commandButton value="Clear" actionListener="#{changepwdBean.doClear}"
                                       reRender="editPanel,createPanel"/>
                    <h:panelGrid columns="2" width="400px">
                        <h:outputLabel>User ID</h:outputLabel>
                        <h:outputText value="#{changepwdBean.usrId}"></h:outputText>

                        <h:outputLabel>Old Password</h:outputLabel>
                        <h:inputText value="#{changepwdBean.pwdOld}"></h:inputText>

                        <h:outputLabel>New Password</h:outputLabel>
                        <h:inputText value="#{changepwdBean.pwdNew}"></h:inputText>

                        <h:outputLabel>Confirm Password</h:outputLabel>
                        <h:inputText value="#{changepwdBean.pwdConfirm}"></h:inputText>
                    </h:panelGrid>
                </rich:panel>
                <rich:panel id="createPanel" rendered="#{changepwdBean.adminUsr}">
                    <h:panelGrid columns="2"  width="400px">
                        <h:outputLabel>User ID</h:outputLabel>
                        <h:inputText value="#{changepwdBean.usrIdNew}"></h:inputText>
                        <h:outputLabel>User Name</h:outputLabel>
                        <h:inputText value="#{changepwdBean.usrNmeNew}"></h:inputText>
                        <h:outputLabel value="Approve P/R"/>
                        <h:selectBooleanCheckbox value="#{changepwdBean.app_pr}" />
                        <h:outputLabel value="Release Job"/>
                        <h:selectBooleanCheckbox value="#{changepwdBean.rls_job}" />
                        <h:outputLabel value="Release MPS"/>
                        <h:selectBooleanCheckbox value="#{changepwdBean.rls_mps}" />
                        <rich:spacer width="4px"/>
                        <h:panelGroup>
                        <a4j:commandButton value="Create" actionListener="#{changepwdBean.doCreate}" reRender="editPanel,createPanel"/>
                        <rich:spacer width="4px"/>
                        <a4j:commandButton value="Delete" actionListener="#{changepwdBean.doDelete}" reRender="editPanel,createPanel"/>
                        </h:panelGroup>
                    </h:panelGrid>
                </rich:panel>
        </h:form>
    </ui:define>
</ui:composition>
